@model IEnumerable<Data.Entities.ProjectEntity>

@{
    ViewData["Title"] = "Projects";
}

<div class="projects-container">
    <div class="projects-header">
        <h1>Projects</h1>
        <a asp-action="Add" class="btn btn-primary">+ Add Project</a>
    </div>

    
    @*INDEX*@
    <div class="filter-links">
        <a asp-action="Index" asp-route-status="all">All</a>
        <a asp-action="Index" asp-route-status="started">Started</a>
        <a asp-action="Index" asp-route-status="completed">Completed</a>
    </div>

    @*Här har jag klistrat in från ChatGpt, men bara för att få in ett par rader i kod som jag redan hade skrivit, för att få in allt på rätt plats.*@
    <div id="projects">
        <div class="project-list">
            @foreach (var project in Model)
            {
                <div class="project card">
                    <div class="card-header">
                        <div class="project-image">
                            <img src="@project.Image" alt="icon" />
                        </div>

                        <div class="project-name">
                            <h4>@project.ProjectName</h4>
                            <p class="client-name">@project.Description</p>
                        </div>

                        <div id="project-actions-container">
                            <button class="btn-action" onclick="toggleDropdown('@project.Id')">⋯</button>

                            <div id="dropdown-@project.Id" class="dropdown">
                                <div class="dropdown-actions">
                                    <a asp-action="Edit" asp-route-id="@project.Id" class="dropdown-action">✏️ Edit</a>
                                    <form asp-action="Delete" asp-route-id="@project.Id" method="post">
                                        <button type="submit" class="dropdown-action text-danger">🗑 Delete Project</button>
                                    </form>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="card-body">
                        <p>@project.StartDate.ToShortDateString()</p>
                        <p>@project.Status?.StatusName</p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

